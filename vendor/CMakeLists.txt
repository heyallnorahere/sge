cmake_minimum_required(VERSION 3.10)
add_subdirectory("spdlog")
add_subdirectory("SPIRV-Cross")
add_subdirectory("stb")
add_subdirectory("entt")
add_subdirectory("box2d")
add_subdirectory("json")

if(NOT SHADERC_DEPENDENCIES_SYNCED)
    find_package(Python3 REQUIRED)
    message(STATUS "Syncing shaderc dependencies...")
    execute_process(COMMAND ${Python3_EXECUTABLE} "${CMAKE_CURRENT_SOURCE_DIR}/shaderc/utils/git-sync-deps")
    message(STATUS "Synced shaderc dependencies!")
    set(SHADERC_DEPENDENCIES_SYNCED ON CACHE BOOL "Have the shaderc dependencies been synced?" FORCE)
endif()
add_subdirectory("shaderc")

if(SGE_PLATFORM_DESKTOP)
    add_subdirectory("glfw")
endif()

if(SGE_USE_VULKAN)
    add_subdirectory("VulkanMemoryAllocator")
endif()

if(SGE_USE_DIRECTX)
    add_subdirectory("DirectX-Headers")
endif()

include("imgui.cmake")